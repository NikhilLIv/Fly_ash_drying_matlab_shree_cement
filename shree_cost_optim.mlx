c=optimvar('c')
df=optimvar('df')
wf=optimvar('wf')
tz=optimvar('tz')
tb=optimvar('tb')
r=optimvar('r')
tc=optimvar('tc')
ab=(r+1)*(102805.8+0.903*c)
wb=r*(1850+0.15*wf)
sb=0.097*c
hb=ab*((1.005+1.884*wb/ab)*tb+2502.3*wb/ab)+sb*0.95*tb
ac=ab
wc=(r+1)*wb/r
sc=0.097*c+238650+0.85*wf+df
hc=ac*((1.005+1.884*wc/ac)*tc+2502.3*wc/ac)+sc*0.92*tc
ad=ac
wd=wc
sd=0
hd=ad*((1.005+1.884*wd/ad)*tc+2502.3*wd/ad)
ae=r*ad/(r+1)
we=wd*r/(r+1)
se=0
he=hd*r/(r+1)
af=ae/r
wf=we/r
sf=0
hf=he/r
ha=(238650+0.85*wf+df)*(0.92*55+(0.15*wf+1850)/(238650+0.85*wf+df)*4.187*55)
hx=41.4*c
hy=3099594.87
az=102805.8+0.903*c
wz=0
sz=0.097*c
hz=az*((1.005+1.884*wz/az)*tz+2502.3*wz/az)+sz*0.95*tz
options=optimoptions('fmincon',"MaxFunctionEvaluations",10000,"MaxIterations",10000,"ConstraintTolerance",0,"StepTolerance",0.000000000001)
prob=optimproblem
prob.Objective=0.478*wf+0.985*df+9.3*c
prob.Constraints.cons1=0.85*wf+df+0.097*c==114251
prob.Constraints.cons2=hb==hz+he
prob.Constraints.cons3=ha+hb>=hc
prob.Constraints.cons4=hz-hy==c*25104*0.876456
prob.Constraints.cons5=c>=0
prob.Constraints.cons6=df>=0
prob.Constraints.cons7=wf>=0
prob.Constraints.cons8=tb>=0
prob.Constraints.cons9=tz>=0
prob.Constraints.cons10=c<=3000
prob.Constraints.cons11=r>=0
prob.Constraints.cons12=r<=4
prob.Constraints.cons13=wf>=df
prob.Constraints.cons14=tc>=80
prob.Constraints.cons15=tc<=90
x0.c=3000
x0.df=25900
x0.wf=103600
x0.tb=180
x0.tz=650
x0.r=4
x0.tc=90
sol=solve(prob,x0,"Options",options)
